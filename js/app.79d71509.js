(function(){"use strict";var t={1385:function(t,e,i){var n=i(9242),s=i(3396),r=i(7139);const a=(0,s._)("header",{class:"header"},[(0,s._)("h1",{class:"header__title"},"Pokenomicon")],-1),o=(0,s._)("label",{class:"search__label",for:"search"},"Найти покемона",-1),c={class:"search__buttons-field"},l=(0,s._)("button",{type:"submit",class:"search__button"},null,-1),h={class:"search__list"},d={class:"search__item item"},u=["src"],p={class:"item__properties"},f=["onClick"],_=(0,s._)("footer",{class:"footer"},[(0,s._)("p",null,"Пробная версия")],-1);function y(t,e,i,y,m,g){return(0,s.wg)(),(0,s.iD)(s.HY,null,[a,(0,s._)("main",null,[(0,s._)("section",null,[(0,s._)("form",{class:"search__field",onSubmit:e[3]||(e[3]=(0,n.iM)(((...t)=>g.add&&g.add(...t)),["prevent"]))},[o,(0,s.wy)((0,s._)("input",{class:"serach__input",type:"text",id:"search",onKeydown:e[0]||(e[0]=(0,n.D2)(((...t)=>g.add&&g.add(...t)),["enter"])),"onUpdate:modelValue":e[1]||(e[1]=t=>m.card=t),placeholder:"Введите имя или ID покемона",pattern:"^[a-zA-Z0-9]+$",required:""},null,544),[[n.nr,m.card,void 0,{trim:!0}]]),(0,s._)("div",c,[l,(0,s._)("button",{class:(0,r.C_)(["shiny__button",this.shiny?"shiny__button__active":""]),onClick:e[2]||(e[2]=(0,n.iM)(((...t)=>g.onShiny&&g.onShiny(...t)),["prevent"]))},null,2)])],32),(0,s._)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.cards,((t,e)=>((0,s.wg)(),(0,s.iD)("div",{key:e,class:"search__list"},[(0,s._)("div",d,[(0,s._)("img",{alt:"sprite",src:t.image,class:"item__image"},null,8,u),(0,s._)("ul",p,[(0,s._)("li",null,"#"+(0,r.zw)(t.id),1),(0,s._)("li",null,"Имя: "+(0,r.zw)(t.name),1),(0,s._)("li",null,"Тип: "+(0,r.zw)(t.type1)+" "+(0,r.zw)(t.type2),1),(0,s._)("li",null,"Рост: "+(0,r.zw)((.1*t.height).toFixed(1))+" м ",1),(0,s._)("li",null,"Вес: "+(0,r.zw)((.1*t.weight).toFixed(1))+" кг ",1)]),(0,s._)("button",{onClick:e=>g.handleDelete(t),class:"item__button"},"Отпустить",8,f)])])))),128))])])]),_],64)}var m={data(){return{card:"",cards:[],shiny:!1}},created(){const t=localStorage.getItem("pokenomicon-list");t&&(this.cards=JSON.parse(t),this.cards.forEach((t=>{this.subscribeToUpdates(t)})))},methods:{onShiny(){this.shiny=!this.shiny},subscribeToUpdates(t){setTimeout((async()=>{try{let e=await fetch(`https://pokeapi.co/api/v2/pokemon/${t.name}/`),i=await e.json();console.log(i),this.cards.find((e=>e.name===t.name)).name=i.name,this.cards.find((e=>e.id===t.id)).id=i.id,this.cards.find((e=>e.weight===t.weight)).weight=i.weight,this.cards.find((e=>e.height===t.height)).height=i.height,this.cards.find((e=>e.image===t.image)).image=t.shiny?i.sprites.front_shiny:i.sprites.front_default,this.cards.find((e=>e.type1===t.type1)).type1=i.types[0].type.name,i.types.length>1?(this.cards.find((e=>e.type1===t.type1)).type1=i.types[0].type.name,this.cards.find((e=>e.type2===t.type2)).type2=i.types[1].type.name):this.cards.find((e=>e.type1===t.type1)).type1=i.types[0].type.name}catch{this.cards.pop(t),alert("Такой покемон не найден!")}}),0)},add(){const t={image:"",name:this.card.toLowerCase(),type1:"",type2:"",height:"",weight:"",id:"",shiny:this.shiny};if(this.card.length<1||this.card<1||this.card>898)return alert("Введите имя покемона латинсткими буквами или ID (от 1 до 898)");this.cards.push(t),this.card="",localStorage.setItem("pokenomicon-list",JSON.stringify(this.cards)),this.subscribeToUpdates(t)},handleDelete(t){this.cards=this.cards.filter((e=>e!=t))}}},g=i(89);const b=(0,g.Z)(m,[["render",y]]);var v=b;(0,n.ri)(v).mount("#app")}},e={};function i(n){var s=e[n];if(void 0!==s)return s.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,i),r.exports}i.m=t,function(){var t=[];i.O=function(e,n,s,r){if(!n){var a=1/0;for(h=0;h<t.length;h++){n=t[h][0],s=t[h][1],r=t[h][2];for(var o=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[c])}))?n.splice(c--,1):(o=!1,r<a&&(a=r));if(o){t.splice(h--,1);var l=s();void 0!==l&&(e=l)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[n,s,r]}}(),function(){i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,{a:e}),e}}(),function(){i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var s,r,a=n[0],o=n[1],c=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(s in o)i.o(o,s)&&(i.m[s]=o[s]);if(c)var h=c(i)}for(e&&e(n);l<a.length;l++)r=a[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(h)},n=self["webpackChunkpokenomicon"]=self["webpackChunkpokenomicon"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=i.O(void 0,[998],(function(){return i(1385)}));n=i.O(n)})();
//# sourceMappingURL=app.79d71509.js.map